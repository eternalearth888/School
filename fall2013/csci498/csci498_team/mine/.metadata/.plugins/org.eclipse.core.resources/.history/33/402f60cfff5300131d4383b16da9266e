package edu.mines.alterego;

import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;

import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.MapFragment;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.TileOverlay;
import com.google.android.gms.maps.model.TileOverlayOptions;

public class MapActivity extends Activity {
	
	GoogleMap map;
	Context context = this ;
	
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.mapactivity);

        map = ((MapFragment) getFragmentManager().findFragmentById(R.id.map)).getMap();
        map.setMapType(GoogleMap.MAP_TYPE_NONE);
        TileOverlayOptions opts = new TileOverlayOptions();
        opts.tileProvider(new CustomMapTileProvider(getAssets()));

        TileOverlay overlay = map.addTileOverlay(opts);
   
        // Creating onLongClickListener for user to add marker to map      
        map.setOnMapClickListener(new GoogleMap.OnMapClickListener() {
			
			@Override
			public void onMapClick(LatLng arg0) {
				LayoutInflater li = LayoutInflater.from(context);
				final View v = li.inflate(R.layout.create_new_marker_dialogue, null);
				AlertDialog.Builder builder = new AlertDialog.Builder(context);
				builder.setView(v);
				
			}
		});
    
    }
}

